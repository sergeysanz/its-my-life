<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>[Its My Life] ‚ùç Liquid Slideshow</title>

    <link rel="stylesheet" href="https://public.codepenassets.com/css/normalize-5.0.0.min.css">
    <link rel="stylesheet" href="./style.css">

    <style>
      /* Bot√≥n invisible para pedir permiso si el autoplay es bloqueado */
      #audioUnlockBtn {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.75);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 22px;
        cursor: pointer;
        z-index: 9999;
        backdrop-filter: blur(4px);
        user-select: none;
      }
      #audioUnlockBtn.hidden {
        display: none;
      }
    </style>
  </head>
    
  <body>
    <main class="slider-wrapper">
      <canvas class="webgl-canvas"></canvas>
      <span class="slide-number" id="slideNumber">01</span>
      <span class="slide-total" id="slideTotal">06</span>

      <span class="help-text">
        H: Toggle Settings ‚Ä¢ Space/‚Üí: Next ‚Ä¢ ‚Üê: Previous ‚Ä¢ Click to Advance
      </span>

      <nav class="slides-navigation" id="slidesNav">
        <!-- Navigation items will be generated by JavaScript -->
      </nav>
    </main>

    <!-- M√∫sica de fondo -->
    <audio id="bgAudio" src="./assets/its.mp3" preload="auto"></audio>

    <!-- Fallback si el navegador bloquea autoplay -->
    <div id="audioUnlockBtn" class="hidden">
      Haz clic para activar el sonido üîä
    </div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script type="module" src="./script.js"></script>

    <script>
      const audio = document.getElementById("bgAudio");
      const unlockBtn = document.getElementById("audioUnlockBtn");

      // Intento de autoplay silencioso
      audio.volume = 0.6;

      audio.play().then(() => {
          console.log("Autoplay activado");
      }).catch(() => {
          console.log("Autoplay bloqueado, mostrando bot√≥n");
          unlockBtn.classList.remove("hidden");
      });

      unlockBtn.addEventListener("click", () => {
        audio.play();
        unlockBtn.classList.add("hidden");
      });
    </script>
  </body>
</html>
